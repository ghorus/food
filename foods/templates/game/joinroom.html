{% extends 'layout.html' %}
{% block content %}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <p class={{category}}>{{message}}</p>
        {% endfor %}
    {% endif %}
{% endwith %}
<h1>Join Room</h1>
<hr>
<h1>{{gamerooms | length}} active room{%if gamerooms | length > 1 %}s{% endif %}</h1>
{% for gameroom in gamerooms %}
    <br>
    {{gameroom.room_link}} {{gameroom.name}} 
    <form action="" method="POST" novalidate>
        {{joinForm.hidden_tag()}}
        <span style="display:none;">{{joinForm.member(value=current_user.id)}}</span>
        <span style="display:none;">{{joinForm.room(value=gameroom.room_link)}}</span>
        {{joinForm.submitJoin}}
    </form>
{% endfor %}
<hr>
{% endblock content %}